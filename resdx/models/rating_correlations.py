"""
This file is generated from a template. To modify, edit the *.py.jinja file.
"""
from scipy.interpolate import RegularGridInterpolator

from ..enums import StagingType


def cop_47_h1_full(staging_type: StagingType, hspf: float, capacity_maintenance_17: float) -> float:
    if staging_type == StagingType.SINGLE_STAGE:
        rating_range = [5.0, 6.5, 8.0, 9.5, 11.0]
        ratio_range = [0.5, 0.5333333333333333, 0.6, 0.7333333333333333, 1.0]
        input_data = [[1.9707525689167469, 2.844438320683637, 3.932622659191703, 5.326991657059978, 7.177930054093416], [1.9628443254473278, 2.800551694515634, 3.819310780548269, 5.084928332811592, 6.699499297907472], [1.9458491393528918, 2.720493249326752, 3.621592575520113, 4.682863488723969, 5.951177817959451], [1.9150348596070912, 2.588635563129307, 3.3180810804373113, 4.110616451150018, 4.974796610575278], [1.904266993736938, 2.497955524723362, 3.1024902665758654, 3.718171186668921, 4.345309416663822]]
    elif staging_type == StagingType.TWO_STAGE:
        rating_range = [5.0, 6.5, 8.0, 9.5, 11.0]
        ratio_range = [0.5, 0.5333333333333333, 0.6, 0.7333333333333333, 1.0]
        input_data = [[1.7942855944084006, 2.591644877133383, 3.5825249774526053, 4.851730825608285, 6.535690134063281], [1.7789861609377289, 2.5402916834371516, 3.463845873570459, 4.610795726172915, 6.073347740823606], [1.756592722393082, 2.456386147871529, 3.2695841015439155, 4.227059858801722, 5.370947884951006], [1.7203238213878786, 2.3251871274327613, 2.9800504544991027, 3.6913808495307276, 4.466810880751618], [1.6591138244779797, 2.17619296001397, 2.7026315115116635, 3.2386859156367755, 3.7846220634737837]]
    elif staging_type == StagingType.VARIABLE_SPEED:
        # Historic NEEP correlation: heating_cop_47 = 2.837 + 0.066 * hspf2
        rating_range = [7.0, 9.25, 11.5, 13.75, 16.0]
        ratio_range = [0.5, 0.54, 0.6200000000000001, 0.7800000000000001, 1.1]
        input_data = [[2.760718548841149, 4.146355277784352, 5.928979607154959, 8.381517667001214, 11.924177957238038], [2.694965765340449, 3.93929183603124, 5.486149845725787, 7.454909712835692, 10.044323612863073], [2.5780968936218307, 3.6260223536608955, 4.817930594558186, 6.185503972226008, 7.770381330415029], [2.46617992496216, 3.3040504994793194, 4.165403947959796, 5.0511942134459975, 5.962423761719], [2.3449445936335978, 3.0906119897723747, 3.832366256627013, 4.570213627303247, 5.304160463229697]]

    return float(RegularGridInterpolator((ratio_range, rating_range), input_data, "linear")(
        (capacity_maintenance_17, hspf)
    ))


def cop_82_b_low(staging_type: StagingType, seer: float, seer_eer_ratio: float) -> float:
    if staging_type == StagingType.SINGLE_STAGE:
        raise RuntimeError("COP 82 B low is not available for single speed equipment.")
    elif staging_type == StagingType.TWO_STAGE:
        rating_range = [6.0, 22.0]
        ratio_range = [1.0, 2.4]
        input_data = [[1.7772312730848057, 6.51651466797766], [2.1046299727964275, 7.716976566920232]]
    elif staging_type == StagingType.VARIABLE_SPEED:
        # Historic NEEP correlation: EIRr82min = bracket(1.305 - 0.324 * seer2 / eer2, 0.2, 1.0)
        rating_range = [14.0, 24.5, 35.0]
        ratio_range = [1.0, 1.7466666666666666, 2.12, 2.3066666666666666, 2.4]
        input_data = [[4.045640315932408, 7.057685976462701, 10.051208403865054], [6.140030024422425, 10.219423603479317, 13.945517994363524], [14.143537008942078, 23.038035103346594, 30.088907924979374], [19.364001940334614, 31.518421657546682, 41.83485797210029], [22.84910425831599, 37.11432737378569, 49.19026958161229]]

    return float(RegularGridInterpolator((ratio_range, rating_range), input_data, "linear")((seer_eer_ratio, seer)))