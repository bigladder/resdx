'''
This file is generated from a template. To modify, edit the *.py.jinja file.
'''
from scipy.interpolate import RegularGridInterpolator

from ..enums import StagingType


def cop_47_h1_full(staging_type: StagingType, hspf: float, capacity_maintenance_17: float) -> float:
    if staging_type == StagingType.SINGLE_STAGE:
        rating_range = [5.0, 6.5, 8.0, 9.5, 11.0]
        ratio_range = [0.5, 0.5333333333333333, 0.6, 0.7333333333333333, 1.0]
        input_data = [[1.9707525689167475, 2.8444383206836372, 3.9326226591917015, 5.326991657059977, 7.177930054093417], [1.9628443254473282, 2.800551694515633, 3.8193107805482707, 5.084928332811592, 6.699499297907473], [1.945849139352892, 2.720493249326752, 3.6215925755201135, 4.682863488723971, 5.9511778179594526], [1.9150348596070907, 2.5886355631293076, 3.3180810804373118, 4.110616451150018, 4.974796610575278], [1.9042669937369379, 2.4979555247233622, 3.1024902665758662, 3.71817118666892, 4.345309416663822]]
    elif staging_type == StagingType.TWO_STAGE:
        rating_range = [5.0, 6.5, 8.0, 9.5, 11.0]
        ratio_range = [0.5, 0.5333333333333333, 0.6, 0.7333333333333333, 1.0]
        input_data = [[1.794285594408401, 2.5916448771333833, 3.582524977452605, 4.851730825608284, 6.53569013406328], [1.778986160937729, 2.5402916834371516, 3.4638458735704583, 4.610795726172915, 6.073347740823606], [1.7565927223930822, 2.456386147871529, 3.269584101543917, 4.227059858801723, 5.370947884951007], [1.7203238213878786, 2.32518712743276, 2.980050454499103, 3.6913808495307268, 4.466810880751618], [1.6591138244779795, 2.1761929600139696, 2.702631511511664, 3.2386859156367755, 3.784622063473784]]
    elif staging_type == StagingType.VARIABLE_SPEED:
        # Historic NEEP correlation: heating_cop_47 = 2.837 + 0.066 * hspf2
        rating_range = [7.0, 9.25, 11.5, 13.75, 16.0]
        ratio_range = [0.5, 0.54, 0.6200000000000001, 0.7800000000000001, 1.1]
        input_data = [[2.7615174522980497, 4.148571008898913, 5.93403512735487, 8.39246229838129, 11.947880320460836], [2.695619065657992, 3.941100959258364, 5.490182175765851, 7.46306730186866, 10.060210076720685], [2.5786152725444236, 3.6273512314369882, 4.820617593219163, 6.190336338417585, 7.778508650632042], [2.466645933334927, 3.3051087647532995, 4.167306479413381, 5.054217925357602, 5.966873002332692], [2.3452972083399986, 3.0914418940374064, 3.833849310806388, 4.572524966464321, 5.307474482001614]]

    return float(RegularGridInterpolator((ratio_range, rating_range), input_data, "linear")(
        (capacity_maintenance_17, hspf)
    ))


def cop_82_b_low(staging_type: StagingType, seer: float, seer_eer_ratio: float) -> float:
    if staging_type == StagingType.SINGLE_STAGE:
        raise RuntimeError("COP 82 B low is not available for single speed equipment.")
    elif staging_type == StagingType.TWO_STAGE:
        rating_range = [6.0, 22.0]
        ratio_range = [1.0, 2.4]
        input_data = [[1.7772312730848057, 6.51651466797766], [2.1046299727964275, 7.716976566920232]]
    elif staging_type == StagingType.VARIABLE_SPEED:
        # Historic NEEP correlation: EIRr82min = bracket(1.305 - 0.324 * seer2 / eer2, 0.2, 1.0)
        rating_range = [14.0, 24.5, 35.0]
        ratio_range = [1.0, 1.7466666666666666, 2.12, 2.3066666666666666, 2.4]
        input_data = [[4.047240765768898, 7.061466285336162, 10.057968980927825], [6.174580645705325, 10.288519440812733, 14.052861468542359], [14.24024173044029, 23.261833752330144, 30.96218837002951], [19.50808827608118, 31.84246180796491, 42.38831468300697], [23.028778414477685, 37.51287887399246, 49.86316799389439]]

    return float(RegularGridInterpolator((ratio_range, rating_range), input_data, "linear")((seer_eer_ratio, seer)))