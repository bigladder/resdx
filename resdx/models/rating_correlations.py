'''
This file is generated from a template. To modify, edit the *.py.jinja file.
'''
from scipy.interpolate import RegularGridInterpolator

from ..enums import StagingType


def cop_47_h1_full(
    staging_type: StagingType, hspf: float, capacity_maintenance_17: float
) -> float:
    if staging_type == StagingType.SINGLE_STAGE:
        rating_range = [5.0, 6.5, 8.0, 9.5, 11.0]
        ratio_range = [0.5, 0.54, 0.6200000000000001, 0.7800000000000001, 1.1]
        input_data = [[2.009891731516297, 2.900448585535248, 4.010093456900876, 5.431988020200642, 7.3195111256671614], [2.000775998527909, 2.8485818540848657, 3.8747600210672744, 5.14222083812663, 6.747399891091504], [1.981863842010724, 2.75526906175661, 3.644057842525539, 4.676132481713103, 5.889180566884448], [1.9554023667471951, 2.624560580784747, 3.3386311532345387, 4.102292714662521, 4.92089711863152], [1.9693303958590127, 2.5755072458673234, 3.1890102522030994, 3.8099730364590108, 4.43853248959917]]
    elif staging_type == StagingType.TWO_STAGE:
        rating_range = [5.0, 6.5, 8.0, 9.5, 11.0]
        ratio_range = [0.5, 0.54, 0.6200000000000001, 0.7800000000000001, 1.1]
        input_data = [[1.8101801914391407, 2.614381419505263, 3.6139566602663744, 4.894301728231222, 6.593043340163464], [1.7913598796010213, 2.5520880128115797, 3.4709094527846704, 4.605371229376505, 6.041479535921948], [1.766569892370598, 2.455733700059477, 3.247480945864716, 4.166613801000631, 5.246564710654553], [1.7232924438587915, 2.3127754783969836, 2.9416856265089177, 3.6141153256068947, 4.334743691615336], [1.6588882151089572, 2.1693312160911917, 2.6858585160743886, 3.2085795512988318, 3.737606398358994]]
    elif staging_type == StagingType.VARIABLE_SPEED:
        # Historic NEEP correlation: heating_cop_47 = 2.837 + 0.066 * hspf2
        rating_range = [7.0, 9.25, 11.5, 13.75, 16.0]
        ratio_range = [0.5, 0.54, 0.6200000000000001, 0.7800000000000001, 1.1]
        input_data = [[2.740066866351769, 4.156022076239291, 6.041842869168669, 8.739888768474037, 12.866672323186215], [2.667812510609135, 3.9451382307326983, 5.574737310534095, 7.719342445603765, 10.667803107740331], [2.535750780817139, 3.6052072307479794, 4.850218534269239, 6.317683766086791, 8.072737844797668], [2.3888256205829537, 3.2196379035518303, 4.084194981286329, 4.984539043255583, 5.922874051307971], [2.206503280082531, 2.9066655845439233, 3.6024341639533906, 4.293820514817972, 4.980836304375722]]

    return RegularGridInterpolator((ratio_range, rating_range), input_data, "linear")(
        (capacity_maintenance_17, hspf)
    )


def cop_82_b_low(
    staging_type: StagingType, seer: float, seer_eer_ratio: float
) -> float:
    if staging_type == StagingType.SINGLE_STAGE:
        raise RuntimeError("COP 82 B low is not available for single speed equipment.")
    elif staging_type == StagingType.TWO_STAGE:
        rating_range = [6.0, 26.5]
        ratio_range = [1.2, 2.0]
        input_data = [[1.8692967646990817, 8.256060710754276], [2.0562340305644637, 9.081700301659712]]
    elif staging_type == StagingType.VARIABLE_SPEED:
        # Historic NEEP correlation: EIRr82min = bracket(1.305 - 0.324 * seer2 / eer2, 0.2, 1.0)
        rating_range = [14.0, 24.5, 35.0]
        ratio_range = [1.2, 1.6266666666666667, 1.84, 1.9466666666666668, 2.0]
        input_data = [[4.039748885942864, 7.02150622902228, 9.965018134965845], [5.1912880405225375, 8.771554284371133, 12.138772788050298], [7.232648166115862, 11.778281508307055, 15.84198925923578], [9.372588314901472, 14.940024343784389, 19.56328381350001], [10.830706081861422, 17.124829221643882, 22.209844832722816]]

    return RegularGridInterpolator((ratio_range, rating_range), input_data, "linear")(
        (seer_eer_ratio, seer)
    )